---
title: Plan the simulation

bibliography: references_zotero_JPH-2.bib
---

:::note[Learning Objectives]
By the end of this section, you should be able to:
1. Setup a methodology to determine key simulation parameters
2.  Determine variables of interest 
:::


## Planning CFD simulations on HPC
Faced with a CFD workflow that could benefit from modern HPC infrastructure, the planning stage seeks to create an alignment between:  1) the scientific or engineering question that we seek to answer,  2) the physical reality of the problem we are hoping to simulate, and 3) the  abstracted CFD problem. 


The understanding of this alignment is necessary in order to adequetely estimate the HPC needs of a given problem.

The planning section requires a good physical understanding  of the underlying  problem in order to adequately assess.

![Alignment.](../../../assets/figs_section2/ARC4CFD_alignment.png "Alignment in CFD")



## Parameters that influence HPC cost

Add the discussion from Ferziger Peric on page 315.
1. Type of turbulence modeling
2. Type of physical models used
3. Number of separate species to consider
4. Treatement of the wall boundary conditions 
5. Dimensionality of the problem
6. Order of numerical methods (accuracy)




## What do I need to resolve?
CFD simulations inevitably represent a compromise between resolution, accuracy, parameter space

Multiphase flows?
Combustion?
MHD?
Turbulence?
High-paramter design space?
Moving/deforming simulations?
Multispecies and chemical reactions?


## EXAMPLE: Planning the simulation
We seek to simulate the flow the flow around an NACA4412 airfoil with a flap. 

**Scientific question**:
Seek to understand the buffeting frequency in between the airfoil/flap gap.


We must balance the need for accurate 

Is the flow over the airfoil critical to answer ? Can we simplify this problem to a simple representative problem? If yes, what are the potential limitations of the analysis?


Is 3 dimensional critical?

Is compressibility important? Is there a need for multiphysics computations (e.g. icing)? 

1. Select problem
2. Determine the desired level of abstraction



![CFD Example.](../../../assets/figs_section2/airfoil4412wflap_example.png "Example CFD")



## References
1. https://www.osti.gov/servlets/purl/1889593
2. https://ntrs.nasa.gov/api/citations/20140003093/downloads/20140003093.pdf
3. https://www5.in.tum.de/lehre/vorlesungen/hpc/WS14/intro.pdf